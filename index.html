<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Meteorite by oortcloud</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Meteorite</h1>
        <p>Installer &amp; smart package manager for Meteor</p>
        <p class="view"><a href="https://github.com/oortcloud/meteorite">View the Project on GitHub <small>oortcloud/meteorite</small></a></p>
        <ul>
          <li><a href="https://github.com/oortcloud/meteorite/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/oortcloud/meteorite/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/oortcloud/meteorite">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="meteorite" class="anchor" href="#meteorite"><span class="octicon octicon-link"></span></a>Meteorite</h1>

<p><em>NOTE: As of <a href="https://www.meteor.com/blog/2014/08/26/meteor-090-new-packaging-system">Meteor 0.9.0</a>, Meteorite is no longer required! You can now install <a href="https://atmospherejs.com">Atmosphere packages</a> directly via the <code>meteor</code> tool.</em></p>

<p>Meteorite is a Meteor package installer.</p>

<p>It provides an easy way to install Meteor packages into your project from sources such as git and the filesystem. </p>

<p>It also gives a (now deprecated) method of publishin and installing packages from the <a href="http://old-atmosphere.meteor.com">Old Atmosphere Server</a>. Please note that the latest and greatest packages are on the <a href="https://atmospherejs.com">Real Atmosphere Server</a> and can be installed directly with Meteor.</p>

<h2>
<a name="installing-meteorite" class="anchor" href="#installing-meteorite"><span class="octicon octicon-link"></span></a>Installing Meteorite</h2>

<p>Meteorite can be installed via <a href="https://npmjs.org/">npm</a>.</p>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>npm install -g meteorite
</pre></div>

<h3>
<a name="note" class="anchor" href="#note"><span class="octicon octicon-link"></span></a>NOTE:</h3>

<p>If your system requires root access to install global npm packages, make sure you use the <code>-H</code> flag:</p>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>sudo -H npm install -g meteorite
</pre></div>

<h3>
<a name="notes" class="anchor" href="#notes"><span class="octicon octicon-link"></span></a>NOTES</h3>

<ul>
<li><p>Meteor is not officially supported on windows; you can run it thanks to <a href="http://win.meteor.com">Tom Wijman's excellent work</a>. However, meteorite's git based approach runs counter to the MSI installation that's required to get it working. So meteorite <em>does not</em> work under windows right now. Pull Requests which change this would be gladly accepted! Also, see <a href="http://www.discovermeteor.com/2013/03/20/using-meteor-and-atmopshere-on-windows/">this blog post</a> for some information about how to use it.</p></li>
<li><p>You'll also need to ensure you have <a href="http://git-scm.com">git</a> installed and available in your path. Also, you'll need to make sure that <code>mrt</code>'s install location (usually <code>/usr/local/bin/</code>) is on your path.</p></li>
</ul><h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a name="smartjson" class="anchor" href="#smartjson"><span class="octicon octicon-link"></span></a><code>smart.json</code>
</h3>

<p>List your packages in a <code>smart.json</code> file in the top level of the project. There are two (non-deprecated) ways to include packages:</p>

<pre><code>{
  "packages": {
    "my:fork": {
      "git": "https://github.com/my/fork.git"
    },
    "local:version": {
      "path": "to/the/package/"
    }
  }
}
</code></pre>

<h3>
<a name="mrt-install" class="anchor" href="#mrt-install"><span class="octicon octicon-link"></span></a><code>mrt install</code>
</h3>

<p>Install all packages listed in <code>smart.json</code> that aren't already installed on your machine. Use this command if you are working collaboratively and your colleagues install new packages (<code>smart.lock</code> changes).</p>

<h3>
<a name="mrt-update" class="anchor" href="#mrt-update"><span class="octicon octicon-link"></span></a><code>mrt update</code>
</h3>

<p>Installs any available updates to the app's desired Meteor version and packages -- use this if a new version is available on git, for instance.</p>

<h3>
<a name="mrt-link-package-pathtofoo" class="anchor" href="#mrt-link-package-pathtofoo"><span class="octicon octicon-link"></span></a><code>mrt link-package path/to/foo</code>
</h3>

<p>Links <code>packages/foo</code> to <code>path/to/foo</code> so that you can use a local version without changing <code>smart.json</code>. Useful for quick changes to a package you maintain when developing an application. </p>

<p>Note that <code>mrt install</code> or <code>mrt</code> will <em>overwrite</em> this link if you also have <code>foo</code> in your <code>smart.json</code> (which you probably will). This may change in the future.</p>

<h2>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>Options</h2>

<p>Options can be passed at the very end of the command.</p>

<h3>
<a name="--verbose" class="anchor" href="#--verbose"><span class="octicon octicon-link"></span></a><code>--verbose</code>
</h3>

<p>Log debug information to the console.</p>

<p>Example: <code>mrt add crypto-sha1 --verbose</code></p>

<h2>
<a name="deprecated-commands" class="anchor" href="#deprecated-commands"><span class="octicon octicon-link"></span></a>Deprecated commands</h2>

<p>As Meteorite now installs packages into the <code>packages/</code> directory, you can simply run <code>meteor</code> to start your app. You may need to run <code>mrt install</code> first.
You can run any meteor executable you like (e.g. from a checkout somewhere on your machine). </p>

<h3>
<a name="mrt" class="anchor" href="#mrt"><span class="octicon octicon-link"></span></a><code>mrt</code>
</h3>

<p>Works like <code>meteor</code>, but checks and installs the app's desired Meteor version and package dependencies before running the app. You may still want to use this, but it's no longer the official way to use Meteorite.</p>

<p>If however you want to use a forked version of Meteor in your project, you can still list it in your <code>smart.json</code>, and Meteorite will run it via <code>mrt</code>. (Of course you could just run it directly from a checkout too, which may be simpler).</p>

<h3>
<a name="mrt-add-package" class="anchor" href="#mrt-add-package"><span class="octicon octicon-link"></span></a><code>mrt add &lt;package&gt;</code>
</h3>

<p>Works like <code>meteor add</code>, but if the package isn't one of Meteor's included packages, it installs it from <a href="https://old-atmosphere.meteor.com">Old Atmosphere</a>.</p>

<p>Unlike <code>meteor add</code>, only one package can be added at a time with <code>mrt add</code>.</p>

<div class="highlight highlight-sh"><pre><span class="c"># Add the latest version of the moment package on Atmosphere.</span>
<span class="nv">$ </span>mrt add moment
<span class="c"># Add a specific version of a package.</span>
<span class="nv">$ </span>mrt add router --pkg-version 0.3.4
<span class="c"># Meteorite will install page.js too, because router depends on it.</span>
</pre></div>

<p>Note the packages on the old site are only likely to work with Meteor &lt; 0.9.0.</p>

<h3>
<a name="mrt-remove-package" class="anchor" href="#mrt-remove-package"><span class="octicon octicon-link"></span></a><code>mrt remove &lt;package&gt;</code>
</h3>

<p>Similarly, removes a package from <code>smart.json</code>, and unlinks it from your project (as well as telling Meteor not to use it).</p>

<h3>
<a name="other-commands" class="anchor" href="#other-commands"><span class="octicon octicon-link"></span></a>Other commands</h3>

<p>When Meteorite is executed for an app, it checks or installs the app's desired Meteor version, packages and dependencies, then does the required book-keeping (described below), and finally passes the command onto <code>meteor</code>.</p>

<h2>
<a name="permission-woes" class="anchor" href="#permission-woes"><span class="octicon octicon-link"></span></a>Permission woes?</h2>

<p>It is <em>not</em> required that you run <code>sudo mrt</code>. If you do so, your home directory will pick up some root-owned files and you'll struggle to run <code>mrt</code> without <code>sudo</code> from then on. This isn't good.</p>

<p>To fix the problem, try cleaning up potentially "sudo-ed" files:</p>

<div class="highlight highlight-bash"><pre>sudo mrt uninstall
sudo mrt uninstall --system
sudo chown -R <span class="sb">`</span>whoami<span class="sb">`</span> ~/.npm
</pre></div>

<p>If possible, try not to install Meteorite as root either. If you have permissions problems, make sure you install with <code>sudo -H npm install -g meteorite</code>. If you've installed without <code>-H</code>, your <code>~/.npm</code> directory will be owned by root and you should run the <code>chown</code> command above to fix it.</p>

<h2>
<a name="how-meteorite-works" class="anchor" href="#how-meteorite-works"><span class="octicon octicon-link"></span></a>How Meteorite works</h2>

<p>Apps tell Meteorite the Meteor version and packages they want with a file called <code>smart.json</code> in their root directory. Meteorite will install those dependencies the next time it is executed within that app.</p>

<p>Meteorite writes to a <code>smart.lock</code> file in the app's root directory to track the exact versions of its dependencies, even when it's set up in a fresh environment. You should check the <code>smart.lock</code> file into your app's version control, to ensure that other developers are running the same versions of the dependencies. Any changes in <code>smart.json</code> take precendency over <code>smart.lock</code>. The <code>smart.lock</code> file is reset with the <code>mrt update</code> command.</p>

<h3>
<a name="example-smartjson" class="anchor" href="#example-smartjson"><span class="octicon octicon-link"></span></a>Example <code>smart.json</code>
</h3>

<p>The <code>meteor</code> property is not required: apps will depend on Meteor's master branch by default. You can specify <code>meteor.branch</code>, <code>meteor.tag</code> or <code>meteor.git</code> to use alternate branches, tags and forks respectively. Note that <code>meteor.git</code> expects an actual URL, use <code>ssh://git@github.com/meteor/meteor.git</code> instead of <code>git@github.com:meteor/meteor.git</code>.</p>

<div class="highlight highlight-json"><pre><span class="p">{</span>
  <span class="nt">"packages"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"moment"</span><span class="p">:</span> <span class="p">{},</span>
    <span class="nt">"router"</span><span class="p">:</span> <span class="s2">"0.3.4"</span><span class="p">,</span>
    <span class="nt">"roles"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"version"</span><span class="p">:</span> <span class="s2">"1.0.1"</span>
    <span class="p">},</span>
    <span class="nt">"accounts-persona"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"git"</span><span class="p">:</span> <span class="s2">"https://github.com/vladikoff/meteor-accounts-persona"</span>
    <span class="p">},</span>
    <span class="nt">"normalize.css"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"git"</span><span class="p">:</span> <span class="s2">"https://github.com/rithis/meteor-normalize.css"</span><span class="p">,</span>
      <span class="nt">"tag"</span><span class="p">:</span> <span class="s2">"v2.0.1"</span>
    <span class="p">},</span>
    <span class="nt">"branch-of-package"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"git"</span><span class="p">:</span> <span class="s2">"https://github.com/EventedMind/iron-router.git"</span><span class="p">,</span>
      <span class="nt">"branch"</span><span class="p">:</span> <span class="s2">"dev"</span>
    <span class="p">},</span>
    <span class="nt">"my-experiment"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"path"</span><span class="p">:</span> <span class="s2">"/path/to/local/package"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h2>
<a name="bash-completion" class="anchor" href="#bash-completion"><span class="octicon octicon-link"></span></a>Bash Completion</h2>

<p>Use Meteorite's bash completion by sourcing it in your .bashrc or .bash_profile.</p>

<p>Depending on where you installed Meteorite:</p>

<div class="highlight highlight-bash"><pre><span class="k">if</span> <span class="o">[</span> -f /path/to/meteorite/completions/mrt.bash <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
  . /path/to/meteorite/completions/mrt.bash
<span class="k">fi</span>
</pre></div>

<p>Alternatively, you can create a symbolic link under bash_completion.d:</p>

<div class="highlight highlight-bash"><pre>ln -s /path/to/meteorite/completions/mrt.bash /path/to/bash_completion.d/mrt
</pre></div>

<h2>
<a name="running-meteorite-in-a-git-hook-script" class="anchor" href="#running-meteorite-in-a-git-hook-script"><span class="octicon octicon-link"></span></a>Running Meteorite In a Git Hook Script</h2>

<p>If you encounter checkout errors while running <code>mrt install</code> or <code>mrt update</code> within a Git hook script, it is because <code>GIT_DIR</code> is set to an unexpected value when running within a hook. The solution is to temporarily unset it just before running the <code>mrt</code> command.</p>

<div class="highlight highlight-bash"><pre><span class="o">(</span><span class="nb">unset </span>GIT_DIR<span class="p">;</span> mrt update<span class="o">)</span>
</pre></div>

<h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>Contributions to meteorite are very welcome! Please see the <a href="https://github.com/oortcloud/meteorite/blob/master/CONTRIBUTING.md">Contribution Guide</a> for details.</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/oortcloud">oortcloud</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>