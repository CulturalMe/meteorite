<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Meteorite by oortcloud</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Meteorite</h1>
        <p>Installer &amp; smart package manager for Meteor</p>
        <p class="view"><a href="https://github.com/oortcloud/meteorite">View the Project on GitHub <small>oortcloud/meteorite</small></a></p>
        <ul>
          <li><a href="https://github.com/oortcloud/meteorite/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/oortcloud/meteorite/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/oortcloud/meteorite">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Meteorite</h1>

<p>Meteorite is a Meteor version manager and package manager. It provides an easy way to run different versions of meteor, use non-core packages, and to install packages from the <a href="https://atmosphere.meteor.com/">Atmosphere package repository</a>. Meteorite provides the <code>mrt</code> command that wraps the <code>meteor</code> command, and should be used in its place.</p>

<div class="highlight"><pre><span class="c"># Create an app based on Meteor's devel branch.</span>
<span class="nv">$ </span>mrt create my-app --branch devel
<span class="nv">$ </span><span class="nb">cd </span>my-app
<span class="c"># Install an Atmosphere package, recursively fetching dependencies.</span>
<span class="nv">$ </span>mrt add router
<span class="c"># Check for and install any updates, and run the app.</span>
<span class="nv">$ </span>mrt
</pre></div>

<h2>Installing Meteorite</h2>

<p>Meteorite can be installed via <a href="https://npmjs.org/">npm</a>.</p>

<div class="highlight"><pre><span class="nv">$ </span>sudo npm install -g meteorite
</pre></div>

<p><strong>Note:</strong> Meteorite does not work on Ubuntu 12.04's default Node.js v0.6 (<a href="https://github.com/oortcloud/meteorite/issues/67">issue #67</a>). To fix this, install a recent version of Node.js via <a href="https://launchpad.net/%7Echris-lea/+archive/node.js/">this PPA</a> or by compiling from source.</p>

<p><strong>Second Note:</strong> You'll also need to ensure you have <a href="http://git-scm.com">git</a> installed and available in your path.</p>

<h2>Usage</h2>

<h3><code>mrt create &lt;name&gt;</code></h3>

<p>Works like <code>meteor create</code>, but you can specify the desired branch, tag or reference of <a href="https://github.com/meteor/meteor">Meteor's git repository</a> that the app should be based on.</p>

<div class="highlight"><pre><span class="c"># By default, apps are based on Meteor's master branch.</span>
<span class="nv">$ </span>mrt create cool-app
<span class="c"># You can create apps based on a branch of Meteor's repo.</span>
<span class="nv">$ </span>mrt create risky-app --branch devel
<span class="c"># Or, on a tag (such as version numbers).</span>
<span class="nv">$ </span>mrt create safe-app --tag v0.5.4
<span class="c"># Or, or on a commit.</span>
<span class="nv">$ </span>mrt create choosy-app --ref a9a717
</pre></div>

<h3><code>mrt add &lt;package&gt;</code></h3>

<p>Works like <code>meteor add</code>, but if the package isn't one of Meteor's included packages, it installs it from <a href="https://atmosphere.meteor.com">Atmosphere</a>.</p>

<p>Unlike <code>meteor add</code>, only one package can be added at a time with <code>mrt add</code>.</p>

<div class="highlight"><pre><span class="c"># Add the latest version of the moment package on Atmosphere.</span>
<span class="nv">$ </span>mrt add moment
<span class="c"># Add a specific version of a package.</span>
<span class="nv">$ </span>mrt add router --version 0.3.4
<span class="c"># Meteorite will install page.js too, because router depends on it.</span>
</pre></div>

<h3><code>mrt run</code></h3>

<p>Works like <code>meteor run</code>, but checks and installs the app's desired Meteor version and package dependencies before running the app.</p>

<h3><code>mrt update</code></h3>

<p>Installs any available updates to the app's desired Meteor version and packages.</p>

<h3>Other commands</h3>

<p>When Meteorite is executed for an app, it checks or installs the app's desired Meteor version, packages and dependencies, then does the required book-keeping (described below), and finally passes the command onto <code>meteor</code>.</p>

<p>However, these checks takes time to send requests to remote servers. It only really makes sense to check the app's dependencies when running the <code>create</code>, <code>run</code>, <code>add</code> or <code>update</code> commands. For other commands, there's no need. Therefore, you'll likely want to stick with using <code>meteor</code> other commands like <code>list</code>, <code>bundle</code> or <code>deploy</code>.</p>

<h2>How Meteorite works</h2>

<p>Apps tell Meteorite the Meteor version and packages they want with a file called <code>smart.json</code> in their root directory. Meteorite will install those dependencies the next time it is executed within that app.</p>

<p>Meteorite writes to a <code>smart.lock</code> file in the app's root directory to track the exact versions of its dependencies, even when it's set up in a fresh environment. You should check the <code>smart.lock</code> file into your app's version control, to ensure that other developers are running the same versions of the dependencies. Any changes in <code>smart.json</code> take precendency over <code>smart.lock</code>. The <code>smart.lock</code> file is reset with the <code>mrt update</code> command.</p>

<h3>Example <code>smart.json</code>
</h3>

<p>The <code>meteor</code> property is not required: apps will depend on Meteor's master branch by default. You can specify <code>meteor.branch</code>, <code>meteor.tag</code> or <code>meteor.git</code> to use alternate branches, tags and forks respectively.</p>

<div class="highlight"><pre><span class="p">{</span>
  <span class="nt">"meteor"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"tag"</span><span class="p">:</span> <span class="s2">"v0.5.4"</span>
  <span class="p">},</span>
  <span class="nt">"packages"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"moment"</span><span class="p">:</span> <span class="p">{},</span>
    <span class="nt">"router"</span><span class="p">:</span> <span class="s2">"0.3.4"</span><span class="p">,</span>
    <span class="nt">"roles"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"version"</span><span class="p">:</span> <span class="s2">"1.0.1"</span>
    <span class="p">},</span>
    <span class="nt">"accounts-persona"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"git"</span><span class="p">:</span> <span class="s2">"https://github.com/vladikoff/meteor-accounts-persona"</span>
    <span class="p">},</span>
    <span class="nt">"normalize.css"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"git"</span><span class="p">:</span> <span class="s2">"https://github.com/rithis/meteor-normalize.css"</span><span class="p">,</span>
      <span class="nt">"tag"</span><span class="p">:</span> <span class="s2">"v2.0.1"</span>
    <span class="p">},</span>
    <span class="nt">"my-experiment"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"path"</span><span class="p">:</span> <span class="s2">"/path/to/local/package"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h2>Writing Meteorite packages</h2>

<p>Meteorite packages include a <code>smart.json</code> file in their root directory to provide information about the package, and to list their dependencies. For an example, see <a href="https://github.com/tmeasday/meteor-router/blob/master/smart.json">Meteor Router's <code>smart.json</code></a>.</p>

<p>Meteorite packages also include a <code>package.js</code> file in their root directory to tell Meteorite how it should be installed. For an example, see <a href="https://github.com/alanning/meteor-roles/blob/master/roles/package.js">Meteor Roles' <code>package.js</code></a>.</p>

<p>See <a href="https://atmosphere.meteor.com/wtf/package">Atmosphere's documentation on writing packages</a> for more information.</p>

<h2>Contributing</h2>

<p>Contributions to meteorite are very welcome! Please see the <a href="https://github.com/oortcloud/meteorite/blob/master/CONTRIBUTING.md">Contribution Guide</a> for details.</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/oortcloud">oortcloud</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>